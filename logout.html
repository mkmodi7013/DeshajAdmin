<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logout - Deshaj Store</title>

<style>
  body {
    font-family: Arial;
    background: #f7f7f7;
    text-align: center;
    padding-top: 100px;
  }
  .box {
    background: white;
    width: 300px;
    margin: auto;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 10px #ccc;
  }
  h2 {
    color: orange;
  }
  p {
    margin: 10px 0;
    color: #555;
  }
</style>

</head>
<body>

<div class="box">
  <h2>Logging Out...</h2>
  <p id="msg">Please wait...</p>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyA6izuR2_oyHbAVhkIVkH0OHj6yAOduD_8",
    authDomain: "apna-kitchen-acdcc.firebaseapp.com",
    projectId: "apna-kitchen-acdcc",
    storageBucket: "apna-kitchen-acdcc.appspot.com",
    messagingSenderId: "129562055761",
    appId: "1:129562055761:web:baa01f9fea6f8eed025470"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  async function logout() {
    try {
      // Firebase logout
      await signOut(auth);

      // Clear localStorage
      const keysToRemove = ["mobile", "userLoggedIn", "cart"];
      keysToRemove.forEach(key => localStorage.removeItem(key));

      // Show alert
      alert("You have been logged out successfully!");

      // Redirect to index.html after user clicks OK
      window.location.href = "index.html";

    } catch (error) {
      alert("Error logging out: " + error.message);
    }
  }

  logout();
</script>

</body>
</html>
